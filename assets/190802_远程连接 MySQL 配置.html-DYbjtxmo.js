import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as o,d as l,o as i}from"./app-CDs18hrd.js";const a={};function r(n,e){return i(),o("div",null,e[0]||(e[0]=[l('<h3 id="问题背景" tabindex="-1"><a class="header-anchor" href="#问题背景"><span>问题背景</span></a></h3><p>开发环境与数据库不在一台机器上，需要远程访问数据库进行数据的增删改查</p><p>在安装完 MySQL，<strong>确定开启远程连接权限</strong>的情况下，SQLyog还是提示 <code>1130 - Host XXX is not allowed to connect to this MySQL server</code></p><p>经过排查后发现，是因为安装数据库的机器的防火墙阻止了3306端口（MySQL的默认端口），将其开启即可顺利访问</p><h3 id="远程连接授权" tabindex="-1"><a class="header-anchor" href="#远程连接授权"><span>远程连接授权</span></a></h3><ul><li>查看 MySQL 库中 user 表 <ul><li>选择数据库 <code>use mysql;</code></li><li>查看 user 表中的 host、user 信息 <code>select host, user from user;</code></li></ul></li></ul><figure><img src="https://i.loli.net/2019/08/03/eQpOjSBJl9vKk1U.png" alt="user表" tabindex="0" loading="lazy"><figcaption>user表</figcaption></figure><ul><li><p>赋予访问数据库的权限</p><p>如果开发主机的IP没有在表中，则需要给开发主机授权<br><code>GRANT ALL PRIVILEGES ON *.* TO &#39;root&#39;@&#39;%&#39; WITH GRANT OPTION </code> ，这意味着赋予所有主机访问数据库的权限</p><p>（如果只给单个主机则可以使用 <code>GRANT ALL PRIVILEGES ON *.* TO &#39;USERNAME&#39;@&#39;USERIP&#39; IDENTIFIED BY &#39;USERPASSWORD&#39; WITH GRANT OPTION; </code> ）</p></li><li><p>刷新权限 <code>FLUSH PRIVILEGES</code></p></li></ul><h3 id="开启mysql主机防火墙的3306端口" tabindex="-1"><a class="header-anchor" href="#开启mysql主机防火墙的3306端口"><span>开启MySQL主机防火墙的3306端口</span></a></h3><blockquote><p>以Win10为例</p></blockquote><ul><li>打开控制面板 - 所有控制面板 - Windows Defender防火墙 - 高级设置</li></ul><figure><img src="https://i.loli.net/2019/08/03/Hb6LNcRUMAKpqCT.png" alt="高级设置" tabindex="0" loading="lazy"><figcaption>高级设置</figcaption></figure><ul><li>点击入站规则 - 新建规则 - 选择&quot;端口&quot;</li><li>应用于TCP，特定本地端口为3306（MySQL的默认端口）</li><li>然后无脑下一步，输入名称（你为这个入站规则起的名字）后点击完成即可</li></ul><h3 id="参考资料" tabindex="-1"><a class="header-anchor" href="#参考资料"><span><em>参考资料</em></span></a></h3><ul><li><a href="https://gwh-08.iteye.com/blog/1396490" target="_blank" rel="noopener noreferrer">MySQL授权远程服务</a></li><li><a href="https://jingyan.baidu.com/article/09ea3ede7311dec0afde3977.html" target="_blank" rel="noopener noreferrer">Win10防火墙开放端口</a></li></ul>',15)]))}const p=t(a,[["render",r],["__file","190802_远程连接 MySQL 配置.html.vue"]]),d=JSON.parse(`{"path":"/archive/blog/2019/190802_%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5%20MySQL%20%E9%85%8D%E7%BD%AE.html","title":"远程连接 MySQL 配置","lang":"zh-CN","frontmatter":{"title":"远程连接 MySQL 配置","date":"2019-08-02T15:29:30.000Z","draft":false,"category":["数据库"],"tag":["MySQL"],"description":"问题背景 开发环境与数据库不在一台机器上，需要远程访问数据库进行数据的增删改查 在安装完 MySQL，确定开启远程连接权限的情况下，SQLyog还是提示 1130 - Host XXX is not allowed to connect to this MySQL server 经过排查后发现，是因为安装数据库的机器的防火墙阻止了3306端口（MySQ...","head":[["meta",{"property":"og:url","content":"https://logycoconut.github.io/archive/blog/2019/190802_%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5%20MySQL%20%E9%85%8D%E7%BD%AE.html"}],["meta",{"property":"og:site_name","content":"logycoconut's k-lab"}],["meta",{"property":"og:title","content":"远程连接 MySQL 配置"}],["meta",{"property":"og:description","content":"问题背景 开发环境与数据库不在一台机器上，需要远程访问数据库进行数据的增删改查 在安装完 MySQL，确定开启远程连接权限的情况下，SQLyog还是提示 1130 - Host XXX is not allowed to connect to this MySQL server 经过排查后发现，是因为安装数据库的机器的防火墙阻止了3306端口（MySQ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://i.loli.net/2019/08/03/eQpOjSBJl9vKk1U.png \\"user表\\""}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-02-11T14:19:39.000Z"}],["meta",{"property":"article:tag","content":"MySQL"}],["meta",{"property":"article:published_time","content":"2019-08-02T15:29:30.000Z"}],["meta",{"property":"article:modified_time","content":"2025-02-11T14:19:39.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"远程连接 MySQL 配置\\",\\"image\\":[\\"https://i.loli.net/2019/08/03/eQpOjSBJl9vKk1U.png \\\\\\"user表\\\\\\"\\",\\"https://i.loli.net/2019/08/03/Hb6LNcRUMAKpqCT.png\\"],\\"datePublished\\":\\"2019-08-02T15:29:30.000Z\\",\\"dateModified\\":\\"2025-02-11T14:19:39.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"logycoconut\\",\\"url\\":\\"https://logycoconut.github.io/\\"}]}"]]},"headers":[{"level":3,"title":"问题背景","slug":"问题背景","link":"#问题背景","children":[]},{"level":3,"title":"远程连接授权","slug":"远程连接授权","link":"#远程连接授权","children":[]},{"level":3,"title":"开启MySQL主机防火墙的3306端口","slug":"开启mysql主机防火墙的3306端口","link":"#开启mysql主机防火墙的3306端口","children":[]},{"level":3,"title":"参考资料","slug":"参考资料","link":"#参考资料","children":[]}],"git":{"createdTime":1676903071000,"updatedTime":1739283579000,"contributors":[{"name":"logycoconut","username":"logycoconut","email":"logycoconut@foxmail.com","commits":3,"url":"https://github.com/logycoconut"}]},"readingTime":{"minutes":1.36,"words":409},"filePathRelative":"archive/blog/2019/190802_远程连接 MySQL 配置.md","localizedDate":"2019年8月2日","autoDesc":true}`);export{p as comp,d as data};
